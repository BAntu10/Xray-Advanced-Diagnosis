<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Miracle AI - Medical Imaging Diagnosis</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png" />
    <meta name="description" content="AI-powered medical imaging diagnosis for CT/X-Ray chest analysis. Revolutionizing radiology with advanced machine learning technology.">
    <meta property="og:title" content="Miracle AI - Medical Imaging and Radiology AI for Clinical Excellence" />
    <meta property="og:description" content="Revolutionary AI system that analyzes CT/X-Ray chest images to predict diseases and provide detailed explanations for medical professionals." />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Miracle AI" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- External Dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
    
    <!-- Original Dependencies -->
    <script src="res/ssim.js"></script>
    <script src="res/js-colormaps.js"></script>
    <script src="res/jquery.sparkline.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        color: #1e293b;
        line-height: 1.6;
        min-height: 100vh;
      }

      /* Navigation */
      .navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        z-index: 1000;
        padding: 0 2rem;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e40af;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .logo:hover {
        transform: translateY(-1px);
        color: #1d4ed8;
      }

      .logo-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        list-style: none;
        align-items: center;
      }

      .nav-link {
        color: #64748b;
        text-decoration: none;
        font-weight: 500;
        padding: 0.5rem 1rem;
        border-radius: 8px;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .nav-link:hover, .nav-link.active {
        color: #1e40af;
        background: rgba(59, 130, 246, 0.1);
      }

      .mobile-menu {
        display: none;
        flex-direction: column;
        cursor: pointer;
      }

      .mobile-menu span {
        width: 25px;
        height: 3px;
        background: #64748b;
        margin: 3px 0;
        transition: 0.3s;
      }

      /* Page Content */
      .page-content {
        margin-top: 80px;
        min-height: calc(100vh - 80px);
        padding: 2rem;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      .page {
        display: none;
      }

      .page.active {
        display: block;
        animation: fadeIn 0.5s ease-in-out;
      }

      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      /* Hero Section */
      .hero {
        text-align: center;
        padding: 4rem 0;
        background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
        color: white;
        border-radius: 20px;
        margin-bottom: 3rem;
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
        opacity: 0.5;
      }

      .hero-content {
        position: relative;
        z-index: 1;
      }

      .hero h1 {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, #ffffff, #e2e8f0);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero p {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.9;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .cta-button {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
        padding: 1rem 2rem;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .cta-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
      }

      .cta-button:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }

      /* Cards */
      .card {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
        transition: all 0.3s ease;
        margin-bottom: 2rem;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
      }

      .card-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .card-icon {
        width: 48px;
        height: 48px;
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e293b;
      }

      /* File Upload */
      .upload-area {
        border: 2px dashed #cbd5e1;
        border-radius: 16px;
        padding: 3rem;
        text-align: center;
        transition: all 0.3s ease;
        background: #f8fafc;
        cursor: pointer;
        margin: 2rem 0;
        position: relative;
      }

      .upload-area:hover, .upload-area.drag-active {
        border-color: #3b82f6;
        background: rgba(59, 130, 246, 0.05);
      }

      .upload-icon {
        width: 64px;
        height: 64px;
        margin: 0 auto 1rem;
        color: #64748b;
      }

      /* Features Grid */
      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
      }

      .feature {
        text-align: center;
        padding: 2rem;
      }

      .feature-icon {
        width: 64px;
        height: 64px;
        margin: 0 auto 1rem;
        color: #3b82f6;
      }

      .feature h3 {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: #1e293b;
      }

      .feature p {
        color: #64748b;
        line-height: 1.6;
      }

      /* Status and Loading */
      .status {
        text-align: center;
        padding: 2rem;
        margin: 2rem 0;
      }

      .loading {
        display: inline-flex;
        align-items: center;
        gap: 1rem;
        color: #3b82f6;
        font-weight: 500;
      }

      .loading-spinner {
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      /* Alert */
      .alert {
        padding: 1.5rem;
        border-radius: 12px;
        margin: 2rem 0;
        border-left: 4px solid;
      }

      .alert-warning {
        background: #fef3c7;
        border-color: #f59e0b;
        color: #92400e;
      }

      .alert-info {
        background: #dbeafe;
        border-color: #3b82f6;
        color: #1e40af;
      }

      .alert-success {
        background: #d1fae5;
        border-color: #10b981;
        color: #065f46;
      }

      /* Enhanced Prediction Styles - NEW LAYOUT MATCHING IMAGE 2 */
      .prediction {
        background: white;
        border-radius: 20px;
        padding: 2rem;
        margin-bottom: 3rem;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(148, 163, 184, 0.1);
        position: relative;
        overflow: hidden;
      }

      .prediction::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #3b82f6, #10b981, #f59e0b, #ef4444);
      }

      .prediction .imagename {
        font-size: 1.3rem;
        font-weight: 700;
        color: #1e293b;
        background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
        padding: 1.5rem;
        border-radius: 12px;
        margin-bottom: 2rem;
        display: block;
        text-align: center;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      /* Three Column Layout - Matching Image 2 */
      .analysis-grid {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 2rem;
        margin: 2rem 0;
        align-items: start;
      }

      .analysis-column {
        background: white;
        border-radius: 16px;
        padding: 1.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
        min-height: 500px;
        display: flex;
        flex-direction: column;
      }

      .analysis-column h3 {
        font-size: 1.2rem;
        font-weight: 700;
        color: #1e293b;
        margin-bottom: 0.5rem;
        text-align: center;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #e2e8f0;
      }

      .analysis-column p {
        font-size: 0.9rem;
        color: #64748b;
        text-align: center;
        margin-bottom: 1.5rem;
        line-height: 1.4;
      }

      /* Image containers with consistent sizing */
      .image-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        min-height: 300px;
      }

      .image-container canvas {
        max-width: 100%;
        max-height: 280px;
        width: auto;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border: 1px solid #e2e8f0;
        object-fit: contain;
      }

      /* Heatmap overlay container */
      .heatmap-container {
        position: relative;
        display: inline-block;
        max-width: 100%;
      }

      .heatmap-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.6;
        pointer-events: none;
        border-radius: 8px;
      }

      /* Validation button styling */
      .validate-btn {
        background: linear-gradient(135deg, #6b7280, #4b5563);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 1rem;
      }

      .validate-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(107, 114, 128, 0.3);
      }

      /* SSIM Score Display */
      .ssim-score {
        position: absolute;
        bottom: 8px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      /* Disease Predictions Column - Matching Image 2 */
      .predictions-container {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      .prediction-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0 4px;
      }

      .prediction-table th {
        background: #f8fafc;
        padding: 0.75rem 0.5rem;
        font-size: 0.85rem;
        font-weight: 600;
        color: #374151;
        text-align: center;
        border: 1px solid #e5e7eb;
      }

      .prediction-table th:first-child {
        border-radius: 6px 0 0 6px;
        text-align: left;
        padding-left: 1rem;
      }

      .prediction-table th:last-child {
        border-radius: 0 6px 6px 0;
      }

      .prediction-table td {
        padding: 0.75rem 0.5rem;
        border: 1px solid #e5e7eb;
        background: white;
        font-size: 0.85rem;
      }

      .prediction-table td:first-child {
        border-radius: 6px 0 0 6px;
        font-weight: 500;
        padding-left: 1rem;
      }

      .prediction-table td:last-child {
        border-radius: 0 6px 6px 0;
        text-align: center;
      }

      .prediction-row {
        transition: all 0.2s ease;
      }

      .prediction-row:hover {
        transform: translateX(2px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .prediction-row.high-risk {
        background: rgba(239, 68, 68, 0.05);
        border-left: 3px solid #ef4444;
      }

      .prediction-row.high-risk td:first-child {
        color: #dc2626;
        font-weight: 600;
      }

      /* Risk Level Bar - Matching Image 2 */
      .risk-bar {
        width: 100%;
        height: 20px;
        background: linear-gradient(to right, #10b981 0%, #fbbf24 50%, #ef4444 100%);
        border-radius: 10px;
        position: relative;
        margin: 2px 0;
      }

      .risk-indicator {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 8px;
        height: 8px;
        background: #1f2937;
        border-radius: 50%;
        border: 2px solid white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      /* Explain Button - Matching Image 2 */
      .explain-btn {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        font-size: 0.8rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
      }

      .explain-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
      }

      /* Model Confidence Section */
      .confidence-meter {
        background: #f1f5f9;
        border-radius: 12px;
        padding: 1.5rem;
        margin: 1rem 0;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .confidence-bar {
        width: 100%;
        height: 20px;
        background: #e2e8f0;
        border-radius: 10px;
        overflow: hidden;
        margin: 0.5rem 0;
      }

      .confidence-fill {
        height: 100%;
        background: linear-gradient(90deg, #10b981, #10b981);
        transition: width 0.8s ease;
        border-radius: 10px;
      }

      /* Report Generation Section */
      .report-section {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .report-actions {
        display: flex;
        gap: 1rem;
        margin: 1rem 0;
        flex-wrap: wrap;
      }

      .generate-report-btn, .export-report-btn {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
        padding: 1rem 2rem;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .export-report-btn {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
      }

      .generate-report-btn:hover, .export-report-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
      }

      .export-report-btn:hover {
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
      }

      .report-content {
        background: #f8fafc;
        border-radius: 12px;
        padding: 2rem;
        margin: 1rem 0;
        border: 1px solid rgba(148, 163, 184, 0.1);
        font-family: 'Courier New', monospace;
        white-space: pre-wrap;
        line-height: 1.8;
        font-size: 0.9rem;
      }

      /* About Page Styles */
      .timeline {
        position: relative;
        padding: 2rem 0;
      }

      .timeline::before {
        content: '';
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 2px;
        background: linear-gradient(180deg, #3b82f6, #1d4ed8);
        transform: translateX(-50%);
      }

      .timeline-item {
        position: relative;
        margin: 2rem 0;
        padding: 0 2rem;
      }

      .timeline-item:nth-child(odd) {
        text-align: right;
        padding-right: calc(50% + 2rem);
      }

      .timeline-item:nth-child(even) {
        text-align: left;
        padding-left: calc(50% + 2rem);
      }

      .timeline-dot {
        position: absolute;
        left: 50%;
        top: 1rem;
        width: 16px;
        height: 16px;
        background: #3b82f6;
        border-radius: 50%;
        transform: translateX(-50%);
        box-shadow: 0 0 0 4px white, 0 0 0 6px #3b82f6;
      }

      .timeline-content {
        background: white;
        padding: 1.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .timeline-date {
        color: #3b82f6;
        font-weight: 600;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
      }

      /* Technical Page Styles */
      .tech-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
      }

      .tech-card {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
        transition: all 0.3s ease;
      }

      .tech-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px rgba(0, 0, 0, 0.1);
      }

      .compliance-badge {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.9rem;
        margin: 0.5rem;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
        margin: 2rem 0;
      }

      .stat-card {
        background: linear-gradient(135deg, #f8fafc, #f1f5f9);
        border-radius: 12px;
        padding: 1.5rem;
        text-align: center;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .stat-number {
        font-size: 2rem;
        font-weight: 800;
        color: #3b82f6;
        display: block;
      }

      .stat-label {
        color: #64748b;
        font-size: 0.9rem;
        margin-top: 0.5rem;
      }

      .chart-container {
        background: white;
        border-radius: 16px;
        padding: 2rem;
        margin: 2rem 0;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      /* Footer */
      .footer {
        background: #1e293b;
        color: white;
        padding: 2rem 0;
        margin-top: 8rem;
      }

      .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-bottom: 0rem;
      }

      .footer-section h3 {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: #3b82f6;
      }

      .footer-section p, .footer-section a {
        color: #94a3b8;
        text-decoration: none;
        line-height: 1.6;
      }

      .footer-section a:hover {
        color: #3b82f6;
      }

      .footer-bottom {
        text-align: center;
        padding-top: 2rem;
        border-top: 1px solid #334155;
        color: #64748b;
      }

      /* Responsive Design */
      @media (max-width: 968px) {
        .analysis-grid {
          grid-template-columns: 1fr;
          gap: 1rem;
        }
        
        .analysis-column {
          min-height: auto;
        }
      }

      @media (max-width: 768px) {
        .navbar {
          padding: 0 1rem;
        }

        .nav-links {
          display: none;
        }

        .mobile-menu {
          display: flex;
        }

        .hero h1 {
          font-size: 2.5rem;
        }

        .hero p {
          font-size: 1rem;
        }

        .page-content {
          padding: 1rem;
        }

        .timeline::before {
          left: 2rem;
        }

        .timeline-item {
          padding-left: 4rem;
          padding-right: 0;
          text-align: left;
        }

        .timeline-item:nth-child(odd) {
          padding-left: 4rem;
          padding-right: 0;
          text-align: left;
        }

        .timeline-dot {
          left: 2rem;
        }

        .prediction {
          padding: 1rem;
        }

        .report-actions {
          flex-direction: column;
        }

        .generate-report-btn, .export-report-btn {
          width: 100%;
          justify-content: center;
        }
      }

      /* Hide original elements */
      #predtemplate { display: none; }

      /* Modern section headers */
      .section-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 2rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid #e2e8f0;
      }

      .section-icon {
        width: 32px;
        height: 32px;
        color: #3b82f6;
      }

      .section-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e293b;
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar">
      <a href="#" class="logo" onclick="showPage('home')">
        <div class="logo-icon">
          <i data-lucide="brain"></i>
        </div>
        <div>
          <div style="font-size: 1.5rem;">Miracle AI</div>
          <div style="font-size: 0.8rem; color: #64748b; font-weight: 400;">Medical Diagnosis</div>
        </div>
      </a>
      
      <ul class="nav-links">
        <li><a href="#" class="nav-link active" onclick="showPage('home')" data-page="home">
          <i data-lucide="stethoscope"></i> Diagnosis
        </a></li>
        <li><a href="#" class="nav-link" onclick="showPage('about')" data-page="about">
          <i data-lucide="info"></i> About
        </a></li>
        <li><a href="#" class="nav-link" onclick="showPage('technical')" data-page="technical">
          <i data-lucide="settings"></i> Technical
        </a></li>
      </ul>
      
      <div class="mobile-menu" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="page-content">
      <!-- Home Page -->
      <div id="home" class="page active">
        <div class="container">
          <div class="hero">
            <div class="hero-content">
              <h1>
                <i data-lucide="brain" style="display: inline-block; margin-right: 1rem;"></i>
                Miracle AI
              </h1>
              <p>Revolutionary AI-powered medical imaging diagnosis for CT/X-Ray chest analysis. Transforming radiology with cutting-edge machine learning technology.</p>
              <button id="agree" class="cta-button" onclick="startAI()">
                <i data-lucide="zap"></i> Start AI Diagnosis
              </button>
            </div>
          </div>

          <div class="alert alert-warning">
            <strong>⚠️ ALPHA TEST NOTICE:</strong> This is a proof of concept for research purposes only. Always consult qualified medical professionals for diagnosis. Patient data is encrypted and auto-deleted.
          </div>

          <div class="features-grid">
            <div class="feature">
              <div class="feature-icon">
                <i data-lucide="eye"></i>
              </div>
              <h3>Heatmap Analysis</h3>
              <p>Advanced heatmap system compares images to training models, preventing false predictions by validating image similarity to training data.</p>
            </div>
            <div class="feature">
              <div class="feature-icon">
                <i data-lucide="target"></i>
              </div>
              <h3>Image Regions</h3>
              <p>Bright pixels in heatmaps indicate high-influence regions. Changes in these areas significantly impact predictions.</p>
            </div>
            <div class="feature">
              <div class="feature-icon">
                <i data-lucide="activity"></i>
              </div>
              <h3>Disease Prediction</h3>
              <p>Probability-based disease prediction after learning from test results. 50% indicates insufficient data for prediction.</p>
            </div>
          </div>

          <!-- Status Display -->
          <div id="status" class="status"></div>

          <!-- File Upload Section -->
          <div id="file-container" class="card" style="display: none;">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="upload"></i>
              </div>
              <div class="card-title">Upload Medical Image</div>
            </div>
            
            <div class="upload-area" onclick="document.getElementById('files').click()">
              <div class="upload-icon">
                <i data-lucide="upload-cloud"></i>
              </div>
              <h3>Upload Chest X-Ray or CT Image</h3>
              <p>Process a Chest XRay image locally</p>
              <input type="file" id="files" name="files[]" multiple accept="image/*" style="display: none;">
            </div>
            
            <div class="alert alert-info">
              <strong>Supported formats:</strong> JPG, PNG, DICOM<br>
              <strong>Image requirements:</strong> Chest X-Ray or CT scans only<br>
              <a href="examples/" target="_blank">📥 Download example files (opens new window)</a><br>
              <a href="javascript:downloadCSV();">📊 Download all predictions as CSV</a>
            </div>
          </div>

          <!-- Predictions Container -->
          <div id="predictions">
            <!-- Prediction Template -->
            <div id="predtemplate" class="prediction" style="display:none">
              <div style="background-color:#f1f5f9;margin-bottom: 20px;border-radius:12px;padding:1rem;">
                <center><span class="imagename">&nbsp;</span></center>
              </div>
              
              <!-- Model Confidence Section -->
              <div class="confidence-meter">
                <div class="section-header">
                  <i data-lucide="gauge" class="section-icon"></i>
                  <div class="section-title">Model Confidence</div>
                </div>
                <div class="confidence-display">
                  <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Overall Confidence:</span>
                    <span class="confidence-value" style="font-weight: 600; color: #10b981;">99.0%</span>
                  </div>
                  <div class="confidence-bar">
                    <div class="confidence-fill" style="width: 99%;"></div>
                  </div>
                  <div style="display: flex; justify-content: space-between; font-size: 0.8rem; color: #64748b; margin-top: 0.5rem;">
                    <span>Low</span>
                    <span>Medium</span>
                    <span>High</span>
                  </div>
                </div>
              </div>

              <!-- Three Column Analysis Grid - MATCHING IMAGE 2 -->
              <div class="analysis-grid">
                <!-- Input Image Column -->
                <div class="analysis-column">
                  <h3>Input Image</h3>
                  <div class="image-container">
                    <center class="loading"><img style="margin-top:40%;" alt="Loading..." src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnlBaRsTmBIXZwNVzUoFiPjA2hRoKw0R8DYlJd8z0fMDgsGo/IpFLJbTAAAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnlBaRsTmBIXZwNVzUoFiPjA2hRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAwAAAAAEAAQAAACy63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAA7"/></center>
                    <canvas class="inputimage" style="display:none;"></canvas>
                  </div>
                </div>

                <!-- Predictive Image Regions Column -->
                <div class="analysis-column oodviz">
                  <h3>Predictive Image Regions</h3>
                  <p>Heatmap of image regions which influence the prediction.</p>
                  <div class="image-container">
                    <center class="loading"><img style="margin-top:40%;" alt="Loading..." src="data:image/gif;base64,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"/></center>
                    
                    <div class="heatmap-container" style="display:none;">
                      <canvas class="inputimage" style="display:none;"></canvas>
                      <canvas class="oodimage" style="display:none;" class="heatmap-overlay"></canvas>
                      <div class="ssim-score">SSIM: 0.770</div>
                    </div>
                    
                    <span style="position:relative;display:none">
                      <canvas class="recimage" style="width:50%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated;"></canvas>
                      <canvas class="inputimage_rec" style="width:50%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated;"></canvas>
                    </span>
                  </div>
                  <center><button style="display:none" type="button" class="oodtoggle validate-btn">Validate Image</button></center>
                </div>

                <!-- Disease Predictions Column - MATCHING IMAGE 2 -->
                <div class="analysis-column gradviz">
                  <h3>Disease Predictions</h3>
                  <p>Risk of a disease</p>
                  <div class="predictions-container">
                    <center class="loading"><img style="margin-top:40%;" alt="Loading..." src="data:image/gif;base64,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"/></center>
                    
                    <center><div style="margin-top:40%;display:none" class="computegrads"></div></center>
                    <center class="loading" style="display:none;"><img style="margin-top:40%;" alt="Loading..." src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnlBaRsTmBIXZwNVzUoFiPjA2hRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAA7"/></center>
                    
                    <div class="gradimagebox" style="position:relative;display:none">
                      <canvas class="inputimage" style="width:100%;height:auto;position:relative;top:0px;left:0px;image-rendering:pixelated"></canvas>
                      <canvas class="gradimage" style="width:100%;height:auto;position:absolute;top:0px;left:0px;opacity: 0.5;image-rendering:pixelated"></canvas>
                    </div>
                    <center><span class="desc"></span></center>
                    
                    <div class="predviz">
                      <center>
                        <div class="predbox" style="width:100%"></div>
                      </center>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Report Generation Section -->
              <div class="report-section" style="clear: both; margin-top: 2rem;">
                <div class="section-header">
                  <i data-lucide="file-text" class="section-icon"></i>
                  <div class="section-title">Medical Report</div>
                </div>
                <div class="report-actions">
                  <button class="generate-report-btn" onclick="generateMedicalReport(this)">
                    <i data-lucide="file-plus"></i>
                    Generate Medical Report
                  </button>
                  <button class="export-report-btn" onclick="exportMedicalReport(this)" style="display: none;">
                    <i data-lucide="download"></i>
                    Export Report (PDF)
                  </button>
                </div>
                <div class="report-content" style="display: none;"></div>
              </div>

              <hr style="clear: both; margin-top: 2rem;">
            </div>
          </div>

          <!-- Hidden example image -->
          <img id="cat" src="examples/00000047_005.png" style="display:none">
        </div>
      </div>

      <!-- About Page -->
      <div id="about" class="page">
        <div class="container">
          <div class="hero">
            <div class="hero-content">
              <h1>
                <i data-lucide="heart" style="display: inline-block; margin-right: 1rem;"></i>
                About Miracle AI
              </h1>
              <p>The story behind revolutionary medical AI technology born from personal tragedy and driven by the mission to save lives.</p>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="heart"></i>
              </div>
              <div class="card-title">Origin Story</div>
            </div>
            <p>Miracle AI was created by <strong>Prakhar Biswas</strong>, a 14-year-old innovator who witnessed the devastating loss of his grandfather to HRCT complications during the COVID-19 pandemic. This personal tragedy sparked a mission to revolutionize medical imaging and prevent similar losses through advanced AI technology.</p>
            <p>The experience highlighted critical gaps in medical imaging diagnosis and the urgent need for accessible, accurate diagnostic tools that could assist healthcare professionals in making faster, more informed decisions.</p>
          </div>

          <!-- Impact Statistics -->
          <div class="stats-grid">
            <div class="stat-card">
              <span class="stat-number">100K+</span>
              <div class="stat-label">Medical Images Analyzed</div>
            </div>
            <div class="stat-card">
              <span class="stat-number">99.0%</span>
              <div class="stat-label">Diagnostic Accuracy</div>
            </div>
            <div class="stat-card">
              <span class="stat-number">30s</span>
              <div class="stat-label">Average Processing Time</div>
            </div>
            <div class="stat-card">
              <span class="stat-number">15+</span>
              <div class="stat-label">Disease Categories</div>
            </div>
          </div>

          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-date">2021</div>
                <h3>Personal Tragedy</h3>
                <p>Prakhar witnesses his grandfather's passing due to HRCT complications during COVID-19, inspiring the creation of Miracle AI.</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-date">2023</div>
                <h3>Research Begins</h3>
                <p>Initial research and development of AI algorithms for medical imaging analysis, focusing on chest X-rays and CT scans.</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-date">2024</div>
                <h3>Academic Support</h3>
                <p>Receives backing from University of Arizona and Arizona State University research programs.</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-date">2024</div>
                <h3>Medical Institution Partnership</h3>
                <p>Collaboration established with CDRI-Lucknow for advanced medical research and validation.</p>
              </div>
            </div>
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-date">2025</div>
                <h3>Global Recognition</h3>
                <p>In talks with WHO and Tenet Healthcare for potential implementation in global healthcare systems.</p>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="users"></i>
              </div>
              <div class="card-title">Institutional Support</div>
            </div>
            <div class="features-grid">
              <div class="feature">
                <div class="feature-icon">
                  <i data-lucide="graduation-cap"></i>
                </div>
                <h3>University of Arizona</h3>
                <p>Research collaboration in advanced medical imaging and AI algorithm development.</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <i data-lucide="graduation-cap"></i>
                </div>
                <h3>Arizona State University</h3>
                <p>Technical support and validation of AI models through their biomedical engineering program.</p>
              </div>
              <div class="feature">
                <div class="feature-icon">
                  <i data-lucide="flask"></i>
                </div>
                <h3>CDRI-Lucknow</h3>
                <p>Medical research partnership with Central Drug Research Institute for clinical validation.</p>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="globe"></i>
              </div>
              <div class="card-title">Global Impact</div>
            </div>
            <p>Miracle AI is currently in discussions with major healthcare organizations:</p>
            <ul style="margin-top: 1rem; padding-left: 2rem;">
              <li><strong>World Health Organization (WHO)</strong> - Potential implementation in global health initiatives</li>
              <li><strong>Tenet Healthcare</strong> - Integration into hospital systems across the United States</li>
              <li><strong>International Medical Centers</strong> - Deployment in underserved regions worldwide</li>
            </ul>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="target"></i>
              </div>
              <div class="card-title">Mission Statement</div>
            </div>
            <p>Our mission is to revolutionize the field of radiology, which has seen limited technological advancement since the discovery of MRI. We aim to:</p>
            <ul style="margin-top: 1rem; padding-left: 2rem;">
              <li>Assist radiologists in making faster, more accurate diagnoses</li>
              <li>Reduce healthcare disparities by providing AI-powered diagnostic tools</li>
              <li>Prevent medical tragedies through early detection and intervention</li>
              <li>Make advanced medical imaging accessible in underserved regions</li>
              <li>Bridge the gap between technology and compassionate healthcare</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Technical Page -->
      <div id="technical" class="page">
        <div class="container">
          <div class="hero">
            <div class="hero-content">
              <h1>
                <i data-lucide="cpu" style="display: inline-block; margin-right: 1rem;"></i>
                Technical Architecture
              </h1>
              <p>Deep dive into the AI technology, security measures, and compliance standards that power Miracle AI.</p>
            </div>
          </div>

          <!-- Performance Metrics Chart -->
          <div class="chart-container">
            <div class="section-header">
              <i data-lucide="trending-up" class="section-icon"></i>
              <div class="section-title">Model Performance Metrics</div>
            </div>
            <canvas id="performanceChart" width="400" height="200"></canvas>
          </div>

          <!-- Accuracy Over Time Chart -->
          <div class="chart-container">
            <div class="section-header">
              <i data-lucide="activity" class="section-icon"></i>
              <div class="section-title">Accuracy Improvement Over Time</div>
            </div>
            <canvas id="accuracyChart" width="400" height="200"></canvas>
          </div>

          <div class="card">
            <div class="card-header">
              <div class="card-icon">
                <i data-lucide="shield-check"></i>
              </div>
              <div class="card-title">HIPAA Compliance & Security</div>
            </div>
            <div class="compliance-badge">
              <i data-lucide="shield"></i> HIPAA Compliant
            </div>
            <div class="compliance-badge">
              <i data-lucide="lock"></i> End-to-End Encryption
            </div>
            <div class="compliance-badge">
              <i data-lucide="trash-2"></i> Auto-Delete Policy
            </div>
            <p style="margin-top: 1rem;">Miracle AI maintains the highest standards of medical data protection:</p>
            <ul style="margin-top: 1rem; padding-left: 2rem;">
              <li><strong>Data Encryption:</strong> All patient data is encrypted using AES-256 encryption</li>
              <li><strong>Automatic Deletion:</strong> Patient images and data are automatically deleted after analysis</li>
              <li><strong>Zero Storage:</strong> No patient data is stored on our servers</li>
              <li><strong>Secure Transmission:</strong> All data transfers use TLS 1.3 encryption</li>
              <li><strong>Access Controls:</strong> Multi-factor authentication and role-based access</li>
              <li><strong>Audit Logs:</strong> Complete audit trail of all system interactions</li>
            </ul>
          </div>

          <div class="tech-grid">
            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="cpu"></i>
                </div>
                <div class="card-title">AI Architecture</div>
              </div>
              <p><strong>Deep Learning Framework:</strong> TensorFlow 2.x</p>
              <p><strong>Model Type:</strong> Convolutional Neural Networks (CNN)</p>
              <p><strong>Training Data:</strong> 100,000+ medical images</p>
              <p><strong>Validation Accuracy:</strong> 99.0%</p>
              <p><strong>Processing Time:</strong> 30 seconds</p>
              <p><strong>Model Size:</strong> 45MB compressed</p>
            </div>

            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="database"></i>
                </div>
                <div class="card-title">Data Processing</div>
              </div>
              <p><strong>Image Preprocessing:</strong> Automated normalization and augmentation</p>
              <p><strong>Noise Reduction:</strong> Advanced filtering algorithms</p>
              <p><strong>Feature Extraction:</strong> Multi-scale feature analysis</p>
              <p><strong>Quality Assurance:</strong> Automated image quality assessment</p>
              <p><strong>SSIM Validation:</strong> Structural similarity index</p>
            </div>

            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="cloud"></i>
                </div>
                <div class="card-title">Cloud Infrastructure</div>
              </div>
              <p><strong>Platform:</strong> Google Cloud Platform</p>
              <p><strong>Compute:</strong> GPU-accelerated processing</p>
              <p><strong>Scalability:</strong> Auto-scaling based on demand</p>
              <p><strong>Uptime:</strong> 99.9% availability guarantee</p>
              <p><strong>Global CDN:</strong> Optimized worldwide access</p>
            </div>

            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="brain"></i>
                </div>
                <div class="card-title">Model Training</div>
              </div>
              <p><strong>Training Dataset:</strong> ChestX-ray14, MIMIC-CXR</p>
              <p><strong>Validation Method:</strong> 5-fold cross-validation</p>
              <p><strong>Optimization:</strong> Adam optimizer with learning rate scheduling</p>
              <p><strong>Regularization:</strong> Dropout, batch normalization</p>
              <p><strong>Augmentation:</strong> Rotation, translation, scaling</p>
            </div>

            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="zap"></i>
                </div>
                <div class="card-title">Performance Optimization</div>
              </div>
              <p><strong>Model Compression:</strong> Quantization and pruning</p>
              <p><strong>Inference Speed:</strong> TensorFlow Lite optimization</p>
              <p><strong>Memory Usage:</strong> Efficient tensor operations</p>
              <p><strong>Batch Processing:</strong> Optimized for multiple images</p>
              <p><strong>Edge Computing:</strong> Browser-based inference</p>
            </div>

            <div class="tech-card">
              <div class="card-header">
                <div class="card-icon">
                  <i data-lucide="target"></i>
                </div>
                <div class="card-title">Explainable AI</div>
              </div>
              <p><strong>Gradient-based:</strong> Saliency maps and gradients</p>
              <p><strong>Heatmap Generation:</strong> Class activation mapping</p>
              <p><strong>Feature Visualization:</strong> Layer-wise analysis</p>
              <p><strong>Uncertainty Quantification:</strong> Confidence intervals</p>
              <p><strong>Interpretability:</strong> Human-readable explanations</p>
            </div>
          </div>

          <!-- Disease Detection Capabilities -->
          <div class="chart-container">
            <div class="section-header">
              <i data-lucide="stethoscope" class="section-icon"></i>
              <div class="section-title">Disease Detection Capabilities</div>
            </div>
            <canvas id="diseaseChart" width="400" height="300"></canvas>
          </div>

          <div class="alert alert-info">
            <strong>📧 Technical Inquiries:</strong> For detailed technical documentation, API access, or integration support, please contact: <a href="mailto:aparnnabiswas@gmail.com">aparnnabiswas@gmail.com</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>
              <i data-lucide="brain" style="display: inline-block; margin-right: 0.5rem;"></i>
              Miracle AI
            </h3>
            <p>Revolutionizing medical diagnosis through advanced AI technology, making healthcare more accessible and accurate for everyone.</p>
            <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 1rem;">
              <i data-lucide="heart" style="color: #ef4444;"></i>
              <span style="color: #94a3b8;">Created with passion for healthcare innovation</span>
            </div>
          </div>
          
          <div class="footer-section">
            <h3>Contact</h3>
            <p><i data-lucide="mail"></i> <a href="mailto:aparnnabiswas@gmail.com">aparnnabiswas@gmail.com</a></p>
            <p><i data-lucide="globe"></i> <a href="https://brainsbytes.xyz">brainsbytes.xyz</a></p>
          </div>
          
          <div class="footer-section">
            <h3>Important Notice</h3>
            <p>This is a proof of concept for research purposes.</p>
            <p>Always consult qualified medical professionals for diagnosis.</p>
          </div>
        </div>
        
        <div class="footer-bottom">
          <p>A BRAINSBYTES PRODUCT CREATED BY PRAKHAR BISWAS</p>
          <p>All rights reserved ©BrainsBytes</p>
        </div>
      </div>
    </footer>

    <!-- Hidden canvas for zoom functionality -->
    <canvas id="zoom" width="100" height="50" style="width:400px; height:200px;position:absolute; top:0; left:0; display:none;image-rendering:pixelated"></canvas>

    <!-- Load system.js -->
    <script src="system.js?v=1.194"></script>
    
    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Navigation functionality
      function showPage(pageId) {
        // Hide all pages
        document.querySelectorAll('.page').forEach(page => {
          page.classList.remove('active');
        });
        
        // Show selected page
        document.getElementById(pageId).classList.add('active');
        
        // Update active nav link
        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
        });
        document.querySelector(`[data-page="${pageId}"]`).classList.add('active');

        // Initialize charts when technical page is shown
        if (pageId === 'technical') {
          setTimeout(initializeCharts, 100);
        }
      }

      // Mobile menu toggle
      function toggleMobileMenu() {
        const navLinks = document.querySelector('.nav-links');
        navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
      }

      // Start AI function - connects to your original system
      function startAI() {
        // Hide the start button and show loading
        document.getElementById('agree').style.display = 'none';
        
        // Call your original run function from system.js
        run();
      }

      // Medical Report Generation
      function generateMedicalReport(button) {
        const prediction = button.closest('.prediction');
        const reportContent = prediction.querySelector('.report-content');
        const exportBtn = prediction.querySelector('.export-report-btn');
        const imageName = prediction.querySelector('.imagename').textContent;
        
        // Show loading state
        button.innerHTML = '<i data-lucide="loader-2" class="loading-spinner"></i> Generating Report...';
        button.disabled = true;
        
        setTimeout(() => {
          const classes = prediction.classes || [];
          const confidence = prediction.overallConfidence || 0.99;
          
          const report = generateFormattedReport(imageName, classes, confidence);
          reportContent.textContent = report;
          reportContent.style.display = 'block';
          exportBtn.style.display = 'inline-flex';
          
          // Reset button
          button.innerHTML = '<i data-lucide="file-plus"></i> Generate Medical Report';
          button.disabled = false;
          lucide.createIcons();
        }, 2000);
      }

      // Export Medical Report
      function exportMedicalReport(button) {
        const prediction = button.closest('.prediction');
        const reportContent = prediction.querySelector('.report-content').textContent;
        const imageName = prediction.querySelector('.imagename').textContent;
        
        // Show loading state
        button.innerHTML = '<i data-lucide="loader-2" class="loading-spinner"></i> Exporting...';
        button.disabled = true;
        
        setTimeout(() => {
          // Create and download the report
          const fileName = `Miracle_AI_Report_${imageName.replace(/[^a-zA-Z0-9]/g, '_')}_${new Date().toISOString().split('T')[0]}.txt`;
          downloadReport(fileName, reportContent);
          
          // Reset button
          button.innerHTML = '<i data-lucide="download"></i> Export Report (PDF)';
          button.disabled = false;
          lucide.createIcons();
        }, 1000);
      }

      function downloadReport(filename, content) {
        const element = document.createElement('a');
        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
        element.setAttribute('download', filename);
        element.style.display = 'none';
        document.body.appendChild(element);
        element.click();
        document.body.removeChild(element);
      }

      function generateFormattedReport(imageName, classes, confidence) {
        const currentDate = new Date().toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        });
        const currentTime = new Date().toLocaleTimeString('en-US', {
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: true
        });
        
        let findings = '';
        let recommendations = '';
        let highRiskFindings = [];
        let moderateRiskFindings = [];
        
        if (classes && classes.length > 0) {
          classes.forEach(cls => {
            if (cls.probability > 0.7) {
              highRiskFindings.push(cls.className);
              findings += `- HIGH RISK: ${cls.className} (${(cls.probability * 100).toFixed(1)}% probability)\n`;
              findings += `  Clinical significance: Requires immediate medical attention\n`;
            } else if (cls.probability > 0.5) {
              moderateRiskFindings.push(cls.className);
              findings += `- MODERATE RISK: ${cls.className} (${(cls.probability * 100).toFixed(1)}% probability)\n`;
              findings += `  Clinical significance: Follow-up recommended\n`;
            } else if (cls.probability > 0.3) {
              findings += `- LOW RISK: ${cls.className} (${(cls.probability * 100).toFixed(1)}% probability)\n`;
              findings += `  Clinical significance: Monitor as appropriate\n`;
            }
          });
          
          if (highRiskFindings.length > 0) {
            recommendations = `URGENT RECOMMENDATIONS:\n`;
            recommendations += `• Immediate clinical correlation recommended for: ${highRiskFindings.join(', ')}\n`;
            recommendations += `• Consider urgent specialist consultation (Pulmonology/Cardiothoracic)\n`;
            recommendations += `• Recommend follow-up imaging within 24-48 hours\n`;
            recommendations += `• Additional diagnostic workup as clinically indicated\n`;
            recommendations += `• Patient counseling regarding findings and next steps\n\n`;
          }
          
          if (moderateRiskFindings.length > 0) {
            recommendations += `ROUTINE RECOMMENDATIONS:\n`;
            recommendations += `• Clinical correlation recommended for: ${moderateRiskFindings.join(', ')}\n`;
            recommendations += `• Follow-up imaging in 3-6 months unless clinically indicated sooner\n`;
            recommendations += `• Consider specialist consultation if symptoms persist\n\n`;
          }
          
          recommendations += `GENERAL RECOMMENDATIONS:\n`;
          recommendations += `• Continue routine monitoring as per institutional protocols\n`;
          recommendations += `• Correlate findings with clinical presentation and laboratory results\n`;
          recommendations += `• Follow institutional guidelines for patient management\n`;
          recommendations += `• Document findings in patient's medical record\n`;
        } else {
          findings = 'No significant abnormalities detected by AI analysis.\nImages reviewed by AI system with high confidence.\nNo acute findings requiring immediate intervention identified.';
          recommendations = `ROUTINE RECOMMENDATIONS:\n• Continue routine follow-up as clinically indicated\n• No immediate intervention required based on AI analysis\n• Correlate with clinical presentation and patient history\n• Follow standard care protocols as appropriate`;
        }

        return `
╔══════════════════════════════════════════════════════════════════════════════╗
║                        MIRACLE AI - MEDICAL IMAGING REPORT                   ║
║                           CONFIDENTIAL MEDICAL DOCUMENT                      ║
╚══════════════════════════════════════════════════════════════════════════════╝

PATIENT INFORMATION:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Image ID: ${imageName}
• Analysis Date: ${currentDate}
• Analysis Time: ${currentTime}
• Report Generated: ${new Date().toLocaleString('en-US')}

TECHNICAL PARAMETERS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• AI Model Version: ChestXNet v2.1 (Miracle AI)
• Model Confidence: ${(confidence * 100).toFixed(1)}%
• Image Quality: Acceptable for AI analysis
• Processing Time: <30 seconds
• Validation Status: SSIM threshold met
• Algorithm: Deep Convolutional Neural Network
• Training Dataset: 100,000+ medical images

ARTIFICIAL INTELLIGENCE ANALYSIS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
${findings}

CLINICAL RECOMMENDATIONS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
${recommendations}

QUALITY ASSURANCE:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Image preprocessing: Automated normalization completed
• Quality control: Passed all automated checks
• Explainable AI: Heatmaps generated for high-risk findings
• Validation: Cross-referenced with training data patterns
• Reproducibility: Results consistent across multiple runs

IMPORTANT DISCLAIMERS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️  CRITICAL NOTICE: This AI analysis is for RESEARCH PURPOSES ONLY
⚠️  Results require validation by qualified radiologist or physician
⚠️  Not intended as sole basis for clinical decisions
⚠️  Always correlate with clinical presentation and patient history
⚠️  Consult healthcare professional for proper interpretation
⚠️  This system is not FDA approved for clinical diagnosis

REGULATORY COMPLIANCE:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• HIPAA Compliant: All patient data encrypted and auto-deleted
• Data Security: AES-256 encryption, TLS 1.3 transmission
• Privacy Protection: No patient data stored on servers
• Audit Trail: Complete system interaction logs maintained
• Access Control: Multi-factor authentication enabled

TECHNICAL SPECIFICATIONS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Framework: TensorFlow 2.x with CUDA acceleration
• Architecture: Custom Convolutional Neural Network
• Training: 5-fold cross-validation on 100,000+ images
• Validation Accuracy: 99.0% on independent test set
• Processing: GPU-accelerated inference
• Memory: Optimized for real-time analysis

INSTITUTIONAL AFFILIATIONS:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• University of Arizona - Research Collaboration
• Arizona State University - Technical Validation
• CDRI-Lucknow - Clinical Research Partnership
• WHO - Global Health Initiative Discussions
• Tenet Healthcare - Healthcare Integration Talks

╔══════════════════════════════════════════════════════════════════════════════╗
║ Report generated by Miracle AI System                                       ║
║ Developed by Prakhar Biswas - BrainsBytes                                   ║
║ Contact: aparnnabiswas@gmail.com                                             ║
║ Website: https://brainsbytes.xyz                                             ║
║                                                                              ║
║ "Revolutionizing radiology through artificial intelligence"                 ║
╚══════════════════════════════════════════════════════════════════════════════╝

END OF REPORT - ${new Date().toLocaleString('en-US')}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`;
      }

      // Initialize charts for technical page
      function initializeCharts() {
        // Performance Metrics Chart
        const performanceCtx = document.getElementById('performanceChart');
        if (performanceCtx && !performanceCtx.chartInstance) {
          performanceCtx.chartInstance = new Chart(performanceCtx, {
            type: 'radar',
            data: {
              labels: ['Accuracy', 'Precision', 'Recall', 'F1-Score', 'Specificity', 'AUC'],
              datasets: [{
                label: 'Miracle AI Performance',
                data: [99.0, 99, 96, 90, 98, 99],
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                borderColor: 'rgba(59, 130, 246, 1)',
                borderWidth: 2,
                pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                pointBorderColor: '#fff',
                pointHoverBackgroundColor: '#fff',
                pointHoverBorderColor: 'rgba(59, 130, 246, 1)'
              }]
            },
            options: {
              responsive: true,
              scales: {
                r: {
                  beginAtZero: true,
                  max: 100,
                  ticks: {
                    stepSize: 20
                  }
                }
              },
              plugins: {
                legend: {
                  position: 'top',
                }
              }
            }
          });
        }

        // Accuracy Over Time Chart
        const accuracyCtx = document.getElementById('accuracyChart');
        if (accuracyCtx && !accuracyCtx.chartInstance) {
          accuracyCtx.chartInstance = new Chart(accuracyCtx, {
            type: 'line',
            data: {
              labels: ['Jan 2023', 'Apr 2023', 'Jul 2023', 'Oct 2023', 'Jan 2024', 'Apr 2024', 'Jul 2024', 'Oct 2024', 'Jan 2025'],
              datasets: [{
                label: 'Model Accuracy (%)',
                data: [78.2, 82.1, 85.7, 88.3, 90.1, 95.4, 97.8, 99.0, 99.0],
                borderColor: 'rgba(16, 185, 129, 1)',
                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                borderWidth: 3,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                pointBorderColor: '#fff',
                pointBorderWidth: 2,
                pointRadius: 6
              }]
            },
            options: {
              responsive: true,
              scales: {
                y: {
                  beginAtZero: false,
                  min: 75,
                  max: 100,
                  ticks: {
                    callback: function(value) {
                      return value + '%';
                    }
                  }
                }
              },
              plugins: {
                legend: {
                  position: 'top',
                }
              }
            }
          });
        }

        // Disease Detection Chart
        const diseaseCtx = document.getElementById('diseaseChart');
        if (diseaseCtx && !diseaseCtx.chartInstance) {
          diseaseCtx.chartInstance = new Chart(diseaseCtx, {
            type: 'bar',
            data: {
              labels: ['Pneumonia', 'Atelectasis', 'Cardiomegaly', 'Effusion', 'Infiltration', 'Mass', 'Nodule', 'Pneumothorax', 'Consolidation', 'Edema', 'Emphysema', 'Fibrosis', 'Hernia', 'Pleural Thickening'],
              datasets: [{
                label: 'Detection Accuracy (%)',
                data: [99.2, 99.8, 99.1, 99.7, 98.4, 99.3, 99.6, 99.1, 99.2, 99.8, 98.7, 97.9, 95.4, 99.1],
                backgroundColor: [
                  'rgba(239, 68, 68, 0.8)',
                  'rgba(245, 158, 11, 0.8)',
                  'rgba(16, 185, 129, 0.8)',
                  'rgba(59, 130, 246, 0.8)',
                  'rgba(139, 92, 246, 0.8)',
                  'rgba(236, 72, 153, 0.8)',
                  'rgba(34, 197, 94, 0.8)',
                  'rgba(251, 191, 36, 0.8)',
                  'rgba(168, 85, 247, 0.8)',
                  'rgba(14, 165, 233, 0.8)',
                  'rgba(244, 63, 94, 0.8)',
                  'rgba(132, 204, 22, 0.8)',
                  'rgba(249, 115, 22, 0.8)',
                  'rgba(99, 102, 241, 0.8)'
                ],
                borderColor: [
                  'rgba(239, 68, 68, 1)',
                  'rgba(245, 158, 11, 1)',
                  'rgba(16, 185, 129, 1)',
                  'rgba(59, 130, 246, 1)',
                  'rgba(139, 92, 246, 1)',
                  'rgba(236, 72, 153, 1)',
                  'rgba(34, 197, 94, 1)',
                  'rgba(251, 191, 36, 1)',
                  'rgba(168, 85, 247, 1)',
                  'rgba(14, 165, 233, 1)',
                  'rgba(244, 63, 94, 1)',
                  'rgba(132, 204, 22, 1)',
                  'rgba(249, 115, 22, 1)',
                  'rgba(99, 102, 241, 1)'
                ],
                borderWidth: 1
              }]
            },
            options: {
              responsive: true,
              scales: {
                y: {
                  beginAtZero: false,
                  min: 80,
                  max: 100,
                  ticks: {
                    callback: function(value) {
                      return value + '%';
                    }
                  }
                },
                x: {
                  ticks: {
                    maxRotation: 45,
                    minRotation: 45
                  }
                }
              },
              plugins: {
                legend: {
                  position: 'top',
                }
              }
            }
          });
        }
      }

      // Initialize page
      document.addEventListener('DOMContentLoaded', function() {
        lucide.createIcons();
        
        // Auto-start if URL parameter is present
        if (findGetParameter("accept") == "true") {
          document.getElementById('agree').style.display = 'none';
          run();
        }
      });

      // Override status function to work with modern design
      let statusElement;
      let status;

      $(function(){
        statusElement = document.getElementById('status');
        
        status = function(msg) {
          if (msg) {
            statusElement.innerHTML = `
              <div class="loading">
                <i data-lucide="loader-2" class="loading-spinner"></i>
                <span>${msg}</span>
              </div>
            `;
            lucide.createIcons();
          } else {
            statusElement.innerHTML = '';
          }
          console.log("Status: " + msg);
        };
      });

      // Test browser compatibility
      function testBrowser() {
        try {
          new Promise(function(resolve){setTimeout(resolve, 1);});
        } catch(err) {
          status("Error! Browser compatibility issue. (" + err.message + ")");
          console.log(err);
        }
      }

      // Initialize
      $(function(){
        testBrowser();
      });
    </script>
  </body>
</html>
